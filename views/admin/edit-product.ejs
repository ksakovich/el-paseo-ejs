<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/product.css">
    </head>

    <body>
        <%- include('../includes/navigation.ejs') %>

            <main>
                <form class="product-form"
                    action="/admin/<% if (editing) { %>edit-product<% } else { %>add-product<% } %>"
                    method="POST">

                    <% if (editing) { %>
                        <input type="hidden"
                            value="<%= product.item_id %>"
                            name="productId">
                        <% } %>
                            <div class="form-control">
                                <label
                                    for="title">Title</label>
                                <input type="text"
                                    name="title" id="title"
                                    value="<% if (editing) { %><%= product.item_name %><% } %>" required>
                            </div>
                            <div class="form-control">
                                <label
                                    for="category_id">Category</label>
                                <input type="number"
                                    name="category_id"
                                    id="category_id"
                                    value="<% if (editing) { %><%= product.category_id %><% } %>" required>
                            </div>
                            <div class="form-control">
                                <label
                                    for="vendor_id">Vendor</label>
                                <input type="number"
                                    name="vendor_id"
                                    id="vendor_id"
                                    value="<% if (editing) { %><%= product.vendor_id %><% } %>" required>
                            </div>
                            <div class="form-control">
                                <label for="imageUrl">Image
                                    URL</label>
                                <input type="text"
                                    name="imageUrl"
                                    id="imageUrl" rows="5"
                                    value="<% if (editing) { %><%= product.item_image_url %><% } %>" required>
                            </div>
                            <div class="form-control">
                                <label
                                    for="price">Price</label>
                                <input type="number"
                                    name="price" id="price"
                                    step="0.01"
                                    value="<% if (editing) { %><%= product.price %><% } %>" required>
                            </div>
                            <div class="form-control">
                                <label
                                    for="description">Description</label>
                                <textarea name="description"
                                    id="description"
                                    rows="5"><% if (editing) { %><%= product.short_description %><% } %></textarea>
                            </div>
                            <div>
                                <input type="checkbox"
                                    id="is_composite"
                                    name="is_composite"
                                    value="<% if (editing) { %><%= product.is_composite %><% } %>">
                                <label for="is_composite">
                                    Is
                                    Composite</label><br>
                            </div>

                            <div class="form-control">
                                <label
                                    for="unit">Unit</label>
                                <input type="text"
                                    name="unit" id="unit"
                                    value="<% if (editing) { %><%= product.unit %><% } %>" required>
                            </div>
                            <button class="btn"
                                type="submit">
                                <% if (editing) { %>Update
                                    Product<% } else { %>Add
                                        Product<% } %>
                            </button>
                </form>
            </main>
            <%- include('../includes/end.ejs') %>