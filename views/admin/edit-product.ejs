<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/product.css">
    </head>

    <body>
        <% if (isAuthenticated && isAdmin){ %>
            <%- include('../includes/admin-nav.ejs') %>
                <% } else { %>
                    <%- include('../includes/navigation.ejs')
                        %>
                        <% } %>

                            <main>
                                <form class="product-form"
                                    action="/admin/<% if (editing) { %>edit-product<% } else { %>add-product<% } %>"
                                    method="POST">

                                    <% if (editing) { %>
                                        <input type="hidden"
                                            value="<%= product.product_id %>"
                                            name="product_id">
                                        <% } %>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="category_id">Category
                                                    ID</label>
                                                <input
                                                    type="number"
                                                    name="category_id"
                                                    id="category_id"
                                                    value="<% if (editing) { %><%= product.category_id %><% } %>"
                                                    required>
                                            </div>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="title">Title</label>
                                                <input
                                                    type="text"
                                                    name="title"
                                                    id="title"
                                                    value="<% if (editing) { %><%= product.title %><% } %>"
                                                    required>
                                            </div>

                                            <div
                                                class="form-control">
                                                <label
                                                    for="vendor_id">Vendor
                                                    ID</label>
                                                <input
                                                    type="number"
                                                    name="vendor_id"
                                                    id="vendor_id"
                                                    value="<% if (editing) { %><%= product.vendor_id %><% } %>"
                                                    required>
                                            </div>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="short_description">Short
                                                    Description</label>
                                                <textarea
                                                    name="short_description"
                                                    id="short_description"
                                                    rows="3"><% if (editing) { %><%= product.short_description %><% } %></textarea>
                                            </div>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="long_description">Long
                                                    Description</label>
                                                <textarea
                                                    name="long_description"
                                                    id="long_description"
                                                    rows="6"><% if (editing) { %><%= product.long_description %><% } %></textarea>
                                            </div>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="small_image_url">Small
                                                    Image
                                                    URL</label>
                                                <input
                                                    type="text"
                                                    name="small_image_url"
                                                    id="small_image_url"
                                                    rows="5"
                                                    value="<% if (editing) { %><%= product.small_image_url %><% } %>"
                                                    required>
                                            </div>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="big_image_url">Big
                                                    Image
                                                    URL</label>
                                                <input
                                                    type="text"
                                                    name="big_image_url"
                                                    id="big_image_url"
                                                    rows="5"
                                                    value="<% if (editing) { %><%= product.big_image_url %><% } %>"
                                                    required>
                                            </div>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="price">Price</label>
                                                <input
                                                    type="number"
                                                    name="price"
                                                    id="price"
                                                    step="0.01"
                                                    value="<% if (editing) { %><%= product.price %><% } %>"
                                                    required>
                                            </div>

                                            <div>
                                                <input
                                                    type="checkbox"
                                                    id="is_composite"
                                                    name="<% if (editing) { %><%= product.is_composite %><% } %>"
                                                    value="<% if (editing) { %><%= product.is_composite %><% } %>">
                                                <label
                                                    for="is_composite">
                                                    Is
                                                    Composite</label><br>
                                            </div>

                                            <div
                                                class="form-control">
                                                <label
                                                    for="unit">Unit</label>
                                                <input
                                                    type="text"
                                                    name="unit"
                                                    id="unit"
                                                    value="<% if (editing) { %><%= product.unit %><% } %>"
                                                    required>
                                            </div>
                                            <div
                                                class="form-control">
                                                <label
                                                    for="quantity_in_stock">Quantity
                                                    in
                                                    stock</label>
                                                <input
                                                    type="number"
                                                    name="quantity_in_stock"
                                                    id="quantity_in_stock"
                                                    step="1"
                                                    value="<% if (editing) { %><%= product.quantity_in_stock %><% } %>"
                                                    required>
                                            </div>
                                            <button
                                                class="btn"
                                                type="submit">
                                                <% if
                                                    (editing)
                                                    { %>
                                                    Update
                                                    Product
                                                    <% } else
                                                        { %>
                                                        Add
                                                        Product
                                                        <% }
                                                            %>
                                            </button>
                                </form>
                            </main>
                            <%- include('../includes/end.ejs')
                                %>